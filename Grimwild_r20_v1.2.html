<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="sheet-container">
        <div class="top-row">
			<div class="name-section">
				<div class="name-section-header"></div>
				<div class="name-section-content">
					<div class="name-left-side">
						<div class="name-top-fields">
							<div class="name-field-group">
								<div class="name-field-label">NAME</div>
								<input type="text" class="name-text-input-main" name="attr_character_name" placeholder="">
							</div>
						</div>
						
						<div class="name-bottom-fields">
							<div class="name-field-group name-field-small">
								<div class="name-field-label">PATH</div>
								<input type="text" class="name-text-input" name="attr_player_name" placeholder="">
							</div>
							<div class="name-field-group name-field-small">
								<div class="name-field-label">PLAYER</div>
								<input type="text" class="name-text-input" name="attr_second" placeholder="">
							</div>
						</div>
					</div>
					
					<div class="name-right-side">
						<div class="name-field-group">
							<div class="name-field-label">DISTINCTIVE FEATURES</div>
							<textarea class="name-text-area" name="attr_distinctive_features" placeholder=""></textarea>
						</div>
					</div>
				</div>            
			</div>
            <div class="logo-section">
                <img src="https://imgur.com/KKRe2oc.jpg" alt="Grimwild Logo" class="grimwild-logo">
            </div>
        </div>

        <div class="main-content">
            <div class="left-column">
                <div class="stats-section">
                    <div class="stats-content">
                        <div class="stats-row">
                            <div class="stat-group">
                                <button type="action" name="act_roll_brawn" class="stat-name">Brawn</button>
                                <div class="stat-container">
                                    <div class="stat-square">
                                        <input type="text" name="attr_brawn" class="stat-input" />
                                    </div>
                                    <div class="stat-diamond">
                                        <input type="checkbox" name="attr_brawn_marked" />
                                    </div>
                                </div>
                            </div>
                            <div class="stat-group">
                                <button type="action" name="act_roll_agility" class="stat-name">Agility</button>
                                <div class="stat-container">
                                    <div class="stat-square">
                                        <input type="text" name="attr_agility" class="stat-input" />
                                    </div>
                                    <div class="stat-diamond">
                                        <input type="checkbox" name="attr_agility_marked" />
                                    </div>
                                </div>
                            </div>
                            <div class="stat-group">
                                <button type="action" name="act_roll_wits" class="stat-name">Wits</button>
                                <div class="stat-container">
                                    <div class="stat-square">
                                        <input type="text" name="attr_wits" class="stat-input" />
                                    </div>
                                    <div class="stat-diamond">
                                        <input type="checkbox" name="attr_wits_marked" />
                                    </div>
                                </div>
                            </div>
                            <div class="stat-group">
                                <button type="action" name="act_roll_presence" class="stat-name">Presence</button>
                                <div class="stat-container">
                                    <div class="stat-square">
                                        <input type="text" name="attr_presence" class="stat-input" />
                                    </div>
                                    <div class="stat-diamond">
                                        <input type="checkbox" name="attr_presence_marked" />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="conditions-section">
                            <div class="conditions-row">
                                <div class="condition-group">
                                    <div class="condition-diamond">
                                        <input type="checkbox" name="attr_bloodied" class="condition-checkbox" />
                                    </div>
                                    <div class="condition-label">BLOODIED</div>
                                </div>
                                <div class="condition-group">
                                    <div class="condition-diamond">
                                        <input type="checkbox" name="attr_rattled" class="condition-checkbox" />
                                    </div>
                                    <div class="condition-label">RATTLED</div>
                                </div>
                            </div>
                            <div class="dropped-section">DROPPED</div>
                        </div>

                        <div class="bottom-controls">
                            <div class="control-group">
                                <div class="control-label">Add Thorns</div>
                                <div class="increment-control">
                                    <button type="action" name="act_thorns_decrement" class="increment-btn">−</button>
									<span name="attr_thorns" class="increment-display"></span>
									<input type="hidden" name="attr_thorns" value="0">
                                    <button type="action" name="act_thorns_increment" class="increment-btn">+</button>
                                </div>
                            </div>
                        
                            <div class="control-group">
                                <div class="control-label">Add Spark</div>
                                <div class="spark-checkbox">
                                    <input type="checkbox" name="attr_using_spark" />
                                </div>
                            </div>
                        
                            <div class="control-group">
                                <div class="control-label">Add Dice</div>
                                <div class="increment-control">
                                    <button type="action" name="act_extra_dice_decrement" class="increment-btn">−</button>
									<span name="attr_extra_dice" class="increment-display">0</span>
									<input type="hidden" name="attr_extra_dice" value="0">
                                    <button type="action" name="act_extra_dice_increment" class="increment-btn">+</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="character-details">
                    <div class="section-header">
                        CHARACTER DETAILS
                        <div class="header-instruction">INTRODUCE A TANGLE: TAKE SPARK</div>
                    </div>
                    
                    <div class="section-content">
                        <div class="field-group">
                            <div class="backgrounds-wises-header">
                                <div class="backgrounds-column">BACKGROUNDS</div>
                                <div class="wises-column">WISES</div>
                            </div>

                            <div class="backgrounds-wises-list">
                                <div class="backgrounds-wises-row">
                                    <div class="backgrounds-cell">
                                        <textarea class="backgrounds-input" name="attr_background_1" placeholder=""></textarea>
                                    </div>
                                    <div class="wises-cell">
                                        <textarea class="wises-input" name="attr_wise_1" placeholder=""></textarea>
                                    </div>
                                </div>
                                <div class="backgrounds-wises-row">
                                    <div class="backgrounds-cell">
                                        <textarea class="backgrounds-input" name="attr_background_2" placeholder=""></textarea>
                                    </div>
                                    <div class="wises-cell">
                                        <textarea class="wises-input" name="attr_wise_2" placeholder=""></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="traits-section">
							<div class="trait-header">TRAITS:&nbsp 2 you are (●)  &nbsp|&nbsp  1 you're really not (×)</div>
							<div class="trait-grid">
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_brave" class="trait-button">
										<div class="trait-checkbox" data-trait="brave"></div>
										<span>Brave</span>
									</button>
									<input type="hidden" name="attr_trait_brave" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_gentle" class="trait-button">
										<div class="trait-checkbox" data-trait="gentle"></div>
										<span>Gentle</span>
									</button>
									<input type="hidden" name="attr_trait_gentle" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_protective" class="trait-button">
										<div class="trait-checkbox" data-trait="protective"></div>
										<span>Protective</span>
									</button>
									<input type="hidden" name="attr_trait_protective" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_caring" class="trait-button">
										<div class="trait-checkbox" data-trait="caring"></div>
										<span>Caring</span>
									</button>
									<input type="hidden" name="attr_trait_caring" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_honest" class="trait-button">
										<div class="trait-checkbox" data-trait="honest"></div>
										<span>Honest</span>
									</button>
									<input type="hidden" name="attr_trait_honest" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_quiet" class="trait-button">
										<div class="trait-checkbox" data-trait="quiet"></div>
										<span>Quiet</span>
									</button>
									<input type="hidden" name="attr_trait_quiet" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_confident" class="trait-button">
										<div class="trait-checkbox" data-trait="confident"></div>
										<span>Confident</span>
									</button>
									<input type="hidden" name="attr_trait_confident" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_honorable" class="trait-button">
										<div class="trait-checkbox" data-trait="honorable"></div>
										<span>Honorable</span>
									</button>
									<input type="hidden" name="attr_trait_honorable" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_rash" class="trait-button">
										<div class="trait-checkbox" data-trait="rash"></div>
										<span>Rash</span>
									</button>
									<input type="hidden" name="attr_trait_rash" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_curious" class="trait-button">
										<div class="trait-checkbox" data-trait="curious"></div>
										<span>Curious</span>
									</button>
									<input type="hidden" name="attr_trait_curious" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_persistent" class="trait-button">
										<div class="trait-checkbox" data-trait="persistent"></div>
										<span>Persistent</span>
									</button>
									<input type="hidden" name="attr_trait_persistent" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_trait_stubborn" class="trait-button">
										<div class="trait-checkbox" data-trait="stubborn"></div>
										<span>Stubborn</span>
									</button>
									<input type="hidden" name="attr_trait_stubborn" value="0" class="trait-value">
								</div>
							</div>
							
							<div class="custom-trait">
								<div class="trait-item" style="margin-right: 10px;">
									<button type="action" name="act_cycle_trait_custom" class="trait-button">
										<div class="trait-checkbox" data-trait="custom"></div>
									</button>
									<input type="hidden" name="attr_trait_custom_state" value="0" class="trait-value">
								</div>
								<input type="text" name="attr_trait_custom" placeholder="">
							</div>

							<div class="trait-header" style="margin-top: 20px;">DESIRES: 2 you want (●)  &nbsp|&nbsp  1 you really don't (×)</div>
							<div class="trait-grid">
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_belonging" class="trait-button">
										<div class="trait-checkbox" data-trait="belonging"></div>
										<span>Belonging</span>
									</button>
									<input type="hidden" name="attr_desire_belonging" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_justice" class="trait-button">
										<div class="trait-checkbox" data-trait="justice"></div>
										<span>Justice</span>
									</button>
									<input type="hidden" name="attr_desire_justice" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_renown" class="trait-button">
										<div class="trait-checkbox" data-trait="renown"></div>
										<span>Renown</span>
									</button>
									<input type="hidden" name="attr_desire_renown" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_glory" class="trait-button">
										<div class="trait-checkbox" data-trait="glory"></div>
										<span>Glory</span>
									</button>
									<input type="hidden" name="attr_desire_glory" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_knowledge" class="trait-button">
										<div class="trait-checkbox" data-trait="knowledge"></div>
										<span>Knowledge</span>
									</button>
									<input type="hidden" name="attr_desire_knowledge" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_thrills" class="trait-button">
										<div class="trait-checkbox" data-trait="thrills"></div>
										<span>Thrills</span>
									</button>
									<input type="hidden" name="attr_desire_thrills" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_harmony" class="trait-button">
										<div class="trait-checkbox" data-trait="harmony"></div>
										<span>Harmony</span>
									</button>
									<input type="hidden" name="attr_desire_harmony" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_love" class="trait-button">
										<div class="trait-checkbox" data-trait="love"></div>
										<span>Love</span>
									</button>
									<input type="hidden" name="attr_desire_love" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_wealth" class="trait-button">
										<div class="trait-checkbox" data-trait="wealth"></div>
										<span>Wealth</span>
									</button>
									<input type="hidden" name="attr_desire_wealth" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_honor" class="trait-button">
										<div class="trait-checkbox" data-trait="honor"></div>
										<span>Honor</span>
									</button>
									<input type="hidden" name="attr_desire_honor" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_power" class="trait-button">
										<div class="trait-checkbox" data-trait="power"></div>
										<span>Power</span>
									</button>
									<input type="hidden" name="attr_desire_power" value="0" class="trait-value">
								</div>
								
								<div class="trait-item">
									<button type="action" name="act_cycle_desire_wisdom" class="trait-button">
										<div class="trait-checkbox" data-trait="wisdom"></div>
										<span>Wisdom</span>
									</button>
									<input type="hidden" name="attr_desire_wisdom" value="0" class="trait-value">
								</div>
							</div>
							
							<div class="custom-trait">
								<div class="trait-item" style="margin-right: 10px;">
									<button type="action" name="act_cycle_desire_custom" class="trait-button">
										<div class="trait-checkbox" data-trait="custom_desire"></div>
									</button>
									<input type="hidden" name="attr_desire_custom_state" value="0" class="trait-value">
								</div>
								<input type="text" name="attr_desire_custom" placeholder="">
							</div>
						</div>
                    </div>
                </div>

                <div class="bonds-section">
                    <div class="section-header">
                        BONDS
                        <div class="header-instruction">CHANGE A BOND: THE OTHER PC TAKES SPARK <br> QUARREL: BOTH TAKE SPARK</div>
                    </div>
                    
                    <div class="section-content">
                        <div class="bonds-header">
                            <div class="pc-column">PC</div>
                            <div class="bond-column">&emsp;&emsp;BOND</div>
                        </div>
                        
                        <div class="bonds-list">
                            <div class="bond-row">
                                <div class="pc-cell">
                                    <textarea class="pc-input" name="attr_bond_pc_1" placeholder=""></textarea>
                                </div>
                                <div class="bond-cell">
                                    <textarea class="bond-input" name="attr_bond_1" placeholder=""></textarea>
                                </div>
                            </div>
                            <div class="bond-row">
                                <div class="pc-cell">
                                    <textarea class="pc-input" name="attr_bond_pc_2" placeholder=""></textarea>
                                </div>
                                <div class="bond-cell">
                                    <textarea class="bond-input" name="attr_bond_2" placeholder=""></textarea>
                                </div>
                            </div>
                            <div class="bond-row">
                                <div class="pc-cell">
                                    <textarea class="pc-input" name="attr_bond_pc_3" placeholder=""></textarea>
                                </div>
                                <div class="bond-cell">
                                    <textarea class="bond-input" name="attr_bond_3" placeholder=""></textarea>
                                </div>
                            </div>
                            <div class="bond-row">
                                <div class="pc-cell">
                                    <textarea class="pc-input" name="attr_bond_pc_4" placeholder=""></textarea>
                                </div>
                                <div class="bond-cell">
                                    <textarea class="bond-input" name="attr_bond_4" placeholder=""></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="right-column">
                <div class="conditions-notes">
                    <div class="conditions-notes-header">
                        CONDITIONS & NOTES
                        <div class="header-instruction">MARK: +1t, THEN CLEAR<br>HARM: +1t TO ALL ROLLS</div>
                    </div>
                    <div class="conditions-notes-content">
                        <textarea name="attr_conditions_notes" class="notes-textarea" placeholder=""></textarea>
                        <div class="vex-text"><b>VEX:</b> FIGHT&nbsp;—&nbsp;FLIGHT&nbsp;—&nbsp;FREEZE&nbsp;—&nbsp;FREAKOUT</div>
                    </div>
                </div>

                <div class="pool-section">
                    <div class="pool-group">
                         <div class="pool-label"></div>
                         <button type="action" name="act_rest" class="roll-button">REST</button>
                    </div>
                    <div class="pool-group">
                        <div class="pool-label">BUILD POOL</div>
                        <div class="increment-control">
                            <button type="action" name="act_pool_decrement" class="increment-btn">−</button>
							<span name="attr_pool_value" class="increment-display">0</span>
							<input type="hidden" name="attr_pool_value" value="0">
                            <button type="action" name="act_pool_increment" class="increment-btn">+</button>
                        </div>
                    </div>
                    <div class="pool-group">
                         <div class="pool-label"></div>
                         <button type="action" name="act_roll_pool" class="roll-button">ROLL POOL</button>
                    </div>
                </div>

                <div class="counters-section">
                    <div class="counter-group">
                        <span class="counter-name">SPARK</span>
                        <div class="counter-boxes">
                            <div class="counter-box">
                                <input type="checkbox" name="attr_spark1" />
                            </div>
                            <div class="counter-box">
                                <input type="checkbox" name="attr_spark2" />
                            </div>
                        </div>
                    </div>
                    <div class="counter-group">
                        <span class="counter-name">STORY</span>
                        <div class="counter-boxes">
                            <div class="counter-box">
                                <input type="checkbox" name="attr_story1" />
                            </div>
                            <div class="counter-box">
                                <input type="checkbox" name="attr_story2" />
                            </div>
                        </div>
                    </div>
                    <div class="counter-button">
                       <button type="action" name="act_roll_story" class="roll-button">STORY ROLL</button>
                    </div>
                </div>
   
                <div class="adventurer-section">
                    <div class="section-header">
                        TALENTS
                    </div>
                    
                    <div class="section-content">
						<div class="subsection">
							<div class="subsection-header">
								CORE TALENT
								<div class="talent-container">
									<input type="hidden" name="attr_core_talent_resize_unlocked" value="false">
									<button type="action" name="act_toggle_core_talent_resize" class="resize-toggle-btn" title="Toggle resize mode"></button>
								</div>
							</div>
							<div class="subsection-content">
								<textarea class="core-talent-area" name="attr_core_talent" placeholder="TALENT NAME&#10;Talent description.&#10;&#10;INSTRUCTIONS: First line automatically formats as a heading. Save by clicking out of the box. Reopen editor by clicking the text. Lock toggles free resizing."></textarea>
							</div>
						</div>
                        
						<div class="subsection">
							<div class="subsection-header">
								ACQUIRED TALENTS
								<div class="talent-container">
									<input type="hidden" name="attr_acquired_talents_resize_unlocked" value="false">
									<button type="action" name="act_toggle_acquired_talents_resize" class="resize-toggle-btn" title="Toggle resize mode"></button>
								</div>
							</div>
							<div class="subsection-content">
								<fieldset class="repeating_talents">
									<div class="talent-slot-container">
										<textarea class="talent-slot" name="attr_talent_text" placeholder="TALENT NAME&#10;Talent description.&#10;&#10;INSTRUCTIONS: First line automatically formats as a heading. Save by clicking out of the box. Reopen editor by clicking the text. Lock toggles free resizing."></textarea>
									</div>
								</fieldset>
							</div>
						</div>
                    </div>
                </div>

                <div class="resources-section">
                    <div class="section-header">
                        RESOURCES
                    </div>
                    <div class="section-content">
                        <fieldset class="repeating_items">
                            <div class="items-row">
                                <div class="resource-box">
                                    <input type="text" class="resource-name-input" name="attr_item_1_name" placeholder="Name">
                                    <div class="resource-count-container">
                                        <input type="number" class="resource-count-input" name="attr_item_1_count" value="0" min="0">
                                    </div>
                                    <input type="text" class="resource-notes-input" name="attr_item_1_notes" placeholder="Notes">
                                </div>
                                <div class="resource-box">
                                    <input type="text" class="resource-name-input" name="attr_item_2_name" placeholder="Name">
                                    <div class="resource-count-container">
                                        <input type="number" class="resource-count-input" name="attr_item_2_count" value="0" min="0">
                                    </div>
                                    <input type="text" class="resource-notes-input" name="attr_item_2_notes" placeholder="Notes">
                                </div>
                                <div class="resource-box">
                                    <input type="text" class="resource-name-input" name="attr_item_3_name" placeholder="Name">
                                    <div class="resource-count-container">
                                        <input type="number" class="resource-count-input" name="attr_item_3_count" value="0" min="0">
                                    </div>
                                    <input type="text" class="resource-notes-input" name="attr_item_3_notes" placeholder="Notes">
                                </div>
                                <div class="resource-box">
                                    <input type="text" class="resource-name-input" name="attr_item_4_name" placeholder="Name">
                                    <div class="resource-count-container">
                                        <input type="number" class="resource-count-input" name="attr_item_4_count" value="0" min="0">
                                    </div>
                                    <input type="text" class="resource-notes-input" name="attr_item_4_notes" placeholder="Notes">
                                </div>
                            </div>
                        </fieldset>
                    </div>
                </div>

                <div class="story-experience-row">
                    <div class="story-arcs-section">
                        <div class="section-header">
                            STORY ARCS
                            <div class="header-instruction">FINISH/MOVE ON FROM<br> AN ARC: TAKE SPARK</div>
                        </div>
                        
                        <div class="section-content">
                            <div class="subsection">
                                <div class="subsection-header">GROUP ARC</div>
                                <div class="subsection-content">
                                    <textarea class="arc-area" name="attr_group_arc" placeholder=""></textarea>
                                </div>
                            </div>
                            
                            <div class="subsection">
                                <div class="subsection-header">CHARACTER ARC</div>
                                <div class="subsection-content">
                                    <textarea class="arc-area" name="attr_character_arc" placeholder=""></textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="experience-section">
                        <div class="section-header">
                            EXPERIENCE
                        </div>
                        
                        <div class="section-content">
                            <div class="xp-instruction">Each session, take 1 XP:</div>
                            
                            <div class="xp-tracks">
                                <div class="xp-track">
                                    <div class="checkbox-group">
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_1_1" value="1">
                                        </div>
                                        <div class="xp-checkbox plus-box">
                                            <input type="checkbox" name="attr_xp_1_2" value="1">
                                        </div>
                                    </div>
                                </div>
                                <div class="xp-track">
                                    <div class="checkbox-group">
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_2_1" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_2_2" value="1">
                                        </div>
                                        <div class="xp-checkbox plus-box">
                                            <input type="checkbox" name="attr_xp_2_3" value="1">
                                        </div>
                                    </div>
                                </div>
                                <div class="xp-track">
                                    <div class="checkbox-group">
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_3_1" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_3_2" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_3_3" value="1">
                                        </div>
                                        <div class="xp-checkbox plus-box">
                                            <input type="checkbox" name="attr_xp_3_4" value="1">
                                        </div>
                                    </div>
                                </div>
                                <div class="xp-track">
                                    <div class="checkbox-group">
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_4_1" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_4_2" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_4_3" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_4_4" value="1">
                                        </div>
                                        <div class="xp-checkbox plus-box">
                                            <input type="checkbox" name="attr_xp_4_5" value="1">
                                        </div>
                                    </div>
                                </div>
                                <div class="xp-track">
                                    <div class="checkbox-group">
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_5_1" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_5_2" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_5_3" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_5_4" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_5_5" value="1">
                                        </div>
                                        <div class="xp-checkbox plus-box">
                                            <input type="checkbox" name="attr_xp_5_6" value="1">
                                        </div>
                                    </div>
                                </div>
                                <div class="xp-track">
                                    <div class="checkbox-group">
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_6_1" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_6_2" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_6_3" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_6_4" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_6_5" value="1">
                                        </div>
                                        <div class="xp-checkbox">
                                            <input type="checkbox" name="attr_xp_6_6" value="1">
                                        </div>
                                        <div class="xp-checkbox plus-box">
                                            <input type="checkbox" name="attr_xp_6_7" value="1">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="talent-instruction">At +, take a new talent.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script type="text/worker">
	on('sheet:opened', function() {
		getSectionIDs('repeating_items', function(ids) {
			if (ids.length === 0) {
				const newRowId = generateRowID();
				const newRow = {};
				for (let i = 1; i <= 4; i++) {
					newRow[`repeating_items_${newRowId}_item_${i}_name`] = '';
					newRow[`repeating_items_${newRowId}_item_${i}_count`] = 0;
					newRow[`repeating_items_${newRowId}_item_${i}_notes`] = '';
				}
				setAttrs(newRow);
			}
		});
	});

	on('clicked:pool_increment', function() {
		getAttrs(['pool_value'], function(values) {
			const current = +values.pool_value || 0;
			if (current < 8) {
				const newValue = current + 1;
				setAttrs({
					pool_value: newValue
				});
				console.log("Pool set to:", newValue);
			}
		});
	});

	on('clicked:pool_decrement', function() {
		getAttrs(['pool_value'], function(values) {
			const current = +values.pool_value || 0;
			if (current > 0) {
				const newValue = current - 1;
				setAttrs({
					pool_value: newValue
				});
			}
		});
	});

	on('clicked:thorns_increment', function() {
		getAttrs(['thorns'], function(values) {
			const current = +values.thorns || 0;
			if (current < 3) {
				setAttrs({
					thorns: current + 1
				});
			}
		});
	});

	on('clicked:thorns_decrement', function() {
		getAttrs(['thorns'], function(values) {
			const current = +values.thorns || 0;
			if (current > 0) {
				setAttrs({
					thorns: current - 1
				});
			}
		});
	});

	on('clicked:extra_dice_increment', function() {
		getAttrs(['extra_dice'], function(values) {
			const current = +values.extra_dice || 0;
			if (current < 8) {
				setAttrs({
					extra_dice: current + 1
				});
			}
		});
	});

	on('clicked:extra_dice_decrement', function() {
		getAttrs(['extra_dice'], function(values) {
			const current = +values.extra_dice || 0;
			if (current > 0) {
				setAttrs({
					extra_dice: current - 1
				});
			}
		});
	});
	
	on('clicked:roll_pool', function() {
		getAttrs(['pool_value'], function(values) {
			const poolSize = +values.pool_value || 0;
			
			if (poolSize < 1) {
				console.log("Cannot roll pool - pool value must be at least 1");
				return;
			}
			
			if (poolSize > 12) {
				console.log("Cannot roll pool - maximum pool size is 12");
				return;
			}
			
			const apiCommand = `!grimpool ${poolSize}`;
			
			startRoll(apiCommand, function(results) {
				finishRoll(results.rollId, {});
			});
		});
	});
	
	on('clicked:roll_brawn', function() {
		getAttrs(['brawn', 'thorns', 'extra_dice', 'brawn_marked', 'bloodied', 'rattled', 'using_spark'], function(values) {
			const stat = +values.brawn || 0;
			const difficultyThorns = +values.thorns || 0;
			const extraDice = +values.extra_dice || 0;
			const isMarked = values.brawn_marked === 'on';
			const isBloodied = values.bloodied === 'on';
			const isRattled = values.rattled === 'on';
			const usingSpark = values.using_spark === 'on';
			
			let markHarmThorns = 0;
			
			if (isMarked) {
				markHarmThorns += 1;
			}
			
			if (isBloodied) {
				markHarmThorns += 1;
			}
			if (isRattled) {
				markHarmThorns += 1;
			}
			
			const totalThorns = difficultyThorns + markHarmThorns;
			let totalDice = stat + extraDice;
			
			if (usingSpark) {
				totalDice += 1;
			}
			
			if (totalDice > 0) {
				let apiCommand = `!grimwild ${totalDice} t${totalThorns} Brawn d${difficultyThorns} m${markHarmThorns} e${extraDice}`;
				
				if (usingSpark) {
					apiCommand += ` spark`;
				}
				
				if (isMarked) {
					apiCommand += ` marked`;
				}
				
				startRoll(apiCommand, function(results) {
					finishRoll(results.rollId, {});
					
					let attrsToSet = {};
					if (isMarked) {
						attrsToSet.brawn_marked = '0';
					}
					if (usingSpark) {
						attrsToSet.using_spark = '0';
					}
					
					if (Object.keys(attrsToSet).length > 0) {
						setAttrs(attrsToSet);
					}
				});
			} else {
				console.log("Cannot roll 0 dice");
			}
		});
	});

	on('clicked:roll_agility', function() {
		getAttrs(['agility', 'thorns', 'extra_dice', 'agility_marked', 'bloodied', 'rattled', 'using_spark'], function(values) {
			const stat = +values.agility || 0;
			const difficultyThorns = +values.thorns || 0;
			const extraDice = +values.extra_dice || 0;
			const isMarked = values.agility_marked === 'on';
			const isBloodied = values.bloodied === 'on';
			const isRattled = values.rattled === 'on';
			const usingSpark = values.using_spark === 'on';
			
			let markHarmThorns = 0;
			
			if (isMarked) {
				markHarmThorns += 1;
			}
			if (isBloodied) {
				markHarmThorns += 1;
			}
			if (isRattled) {
				markHarmThorns += 1;
			}
			
			const totalThorns = difficultyThorns + markHarmThorns;
			let totalDice = stat + extraDice;
			
			if (usingSpark) {
				totalDice += 1;
			}
			
			if (totalDice > 0) {
				let apiCommand = `!grimwild ${totalDice} t${totalThorns} Agility d${difficultyThorns} m${markHarmThorns} e${extraDice}`;
				
				if (usingSpark) {
					apiCommand += ` spark`;
				}
				
				if (isMarked) {
					apiCommand += ` marked`;
				}
				
				startRoll(apiCommand, function(results) {
					finishRoll(results.rollId, {});
					
					let attrsToSet = {};
					if (isMarked) {
						attrsToSet.agility_marked = '0';
					}
					if (usingSpark) {
						attrsToSet.using_spark = '0';
					}
					
					if (Object.keys(attrsToSet).length > 0) {
						setAttrs(attrsToSet);
					}
				});
			}
		});
	});

	on('clicked:roll_wits', function() {
		getAttrs(['wits', 'thorns', 'extra_dice', 'wits_marked', 'bloodied', 'rattled', 'using_spark'], function(values) {
			const stat = +values.wits || 0;
			const difficultyThorns = +values.thorns || 0;
			const extraDice = +values.extra_dice || 0;
			const isMarked = values.wits_marked === 'on';
			const isBloodied = values.bloodied === 'on';
			const isRattled = values.rattled === 'on';
			const usingSpark = values.using_spark === 'on';
			
			let markHarmThorns = 0;
			
			if (isMarked) {
				markHarmThorns += 1;
			}
			if (isBloodied) {
				markHarmThorns += 1;
			}
			if (isRattled) {
				markHarmThorns += 1;
			}
			
			const totalThorns = difficultyThorns + markHarmThorns;
			let totalDice = stat + extraDice;
			
			if (usingSpark) {
				totalDice += 1;
			}
			
			if (totalDice > 0) {
				let apiCommand = `!grimwild ${totalDice} t${totalThorns} Wits d${difficultyThorns} m${markHarmThorns} e${extraDice}`;
				
				if (usingSpark) {
					apiCommand += ` spark`;
				}
				
				if (isMarked) {
					apiCommand += ` marked`;
				}
				
				startRoll(apiCommand, function(results) {
					finishRoll(results.rollId, {});
					
					let attrsToSet = {};
					if (isMarked) {
						attrsToSet.wits_marked = '0';
					}
					if (usingSpark) {
						attrsToSet.using_spark = '0';
					}
					
					if (Object.keys(attrsToSet).length > 0) {
						setAttrs(attrsToSet);
					}
				});
			}
		});
	});

	on('clicked:roll_presence', function() {
		getAttrs(['presence', 'thorns', 'extra_dice', 'presence_marked', 'bloodied', 'rattled', 'using_spark'], function(values) {
			const stat = +values.presence || 0;
			const difficultyThorns = +values.thorns || 0;
			const extraDice = +values.extra_dice || 0;
			const isMarked = values.presence_marked === 'on';
			const isBloodied = values.bloodied === 'on';
			const isRattled = values.rattled === 'on';
			const usingSpark = values.using_spark === 'on';
			
			let markHarmThorns = 0;
			
			if (isMarked) {
				markHarmThorns += 1;
			}
			if (isBloodied) {
				markHarmThorns += 1;
			}
			if (isRattled) {
				markHarmThorns += 1;
			}
			
			const totalThorns = difficultyThorns + markHarmThorns;
			let totalDice = stat + extraDice;
			
			if (usingSpark) {
				totalDice += 1;
			}
			
			if (totalDice > 0) {
				let apiCommand = `!grimwild ${totalDice} t${totalThorns} Presence d${difficultyThorns} m${markHarmThorns} e${extraDice}`;
				
				if (usingSpark) {
					apiCommand += ` spark`;
				}
				
				if (isMarked) {
					apiCommand += ` marked`;
				}
				
				startRoll(apiCommand, function(results) {
					finishRoll(results.rollId, {});
					
					let attrsToSet = {};
					if (isMarked) {
						attrsToSet.presence_marked = '0';
					}
					if (usingSpark) {
						attrsToSet.using_spark = '0';
					}
					
					if (Object.keys(attrsToSet).length > 0) {
						setAttrs(attrsToSet);
					}
				});
			}
		});
	});

	on('clicked:roll_story', function() {
		getAttrs(['thorns', 'extra_dice', 'using_spark', 'bloodied', 'rattled'], function(values) {
			const difficultyThorns = +values.thorns || 0;
			const extraDice = +values.extra_dice || 0;
			const usingSpark = values.using_spark === 'on';
			const isBloodied = values.bloodied === 'on';
			const isRattled = values.rattled === 'on';
			
			if (extraDice < 1) {
				console.log("Cannot make story roll - need at least 1 die in Add Dice field");
				return;
			}
			
			let markHarmThorns = 0;
			if (isBloodied) {
				markHarmThorns += 1;
			}
			if (isRattled) {
				markHarmThorns += 1;
			}
			
			let totalDice = extraDice;
			
			if (usingSpark) {
				totalDice += 1;
			}
			
			const totalThorns = difficultyThorns + markHarmThorns;
			
			let apiCommand = `!grimwild ${totalDice} t${totalThorns} Story d${difficultyThorns} m${markHarmThorns} e${extraDice}`;
			
			if (usingSpark) {
				apiCommand += ` spark`;
			}
			
			startRoll(apiCommand, function(results) {
				finishRoll(results.rollId, {});
				
				if (usingSpark) {
					setAttrs({
						using_spark: '0'
					});
				}
			});
		});
	});
	
	on('clicked:cycle_trait_brave', function() {
		getAttrs(['trait_brave'], function(values) {
			let current = +values.trait_brave || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_brave: next
			});
		});
	});

	on('clicked:cycle_trait_gentle', function() {
		getAttrs(['trait_gentle'], function(values) {
			let current = +values.trait_gentle || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_gentle: next
			});
		});
	});

	on('clicked:cycle_trait_protective', function() {
		getAttrs(['trait_protective'], function(values) {
			let current = +values.trait_protective || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_protective: next
			});
		});
	});

	on('clicked:cycle_trait_caring', function() {
		getAttrs(['trait_caring'], function(values) {
			let current = +values.trait_caring || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_caring: next
			});
		});
	});

	on('clicked:cycle_trait_honest', function() {
		getAttrs(['trait_honest'], function(values) {
			let current = +values.trait_honest || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_honest: next
			});
		});
	});

	on('clicked:cycle_trait_quiet', function() {
		getAttrs(['trait_quiet'], function(values) {
			let current = +values.trait_quiet || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_quiet: next
			});
		});
	});

	on('clicked:cycle_trait_confident', function() {
		getAttrs(['trait_confident'], function(values) {
			let current = +values.trait_confident || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_confident: next
			});
		});
	});

	on('clicked:cycle_trait_honorable', function() {
		getAttrs(['trait_honorable'], function(values) {
			let current = +values.trait_honorable || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_honorable: next
			});
		});
	});

	on('clicked:cycle_trait_rash', function() {
		getAttrs(['trait_rash'], function(values) {
			let current = +values.trait_rash || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_rash: next
			});
		});
	});

	on('clicked:cycle_trait_curious', function() {
		getAttrs(['trait_curious'], function(values) {
			let current = +values.trait_curious || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_curious: next
			});
		});
	});

	on('clicked:cycle_trait_persistent', function() {
		getAttrs(['trait_persistent'], function(values) {
			let current = +values.trait_persistent || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_persistent: next
			});
		});
	});

	on('clicked:cycle_trait_stubborn', function() {
		getAttrs(['trait_stubborn'], function(values) {
			let current = +values.trait_stubborn || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_stubborn: next
			});
		});
	});

	on('clicked:cycle_trait_custom', function() {
		getAttrs(['trait_custom_state'], function(values) {
			let current = +values.trait_custom_state || 0;
			let next = (current + 1) % 3;
			setAttrs({
				trait_custom_state: next
			});
		});
	});

	on('clicked:cycle_desire_belonging', function() {
		getAttrs(['desire_belonging'], function(values) {
			let current = +values.desire_belonging || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_belonging: next
			});
		});
	});

	on('clicked:cycle_desire_justice', function() {
		getAttrs(['desire_justice'], function(values) {
			let current = +values.desire_justice || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_justice: next
			});
		});
	});

	on('clicked:cycle_desire_renown', function() {
		getAttrs(['desire_renown'], function(values) {
			let current = +values.desire_renown || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_renown: next
			});
		});
	});

	on('clicked:cycle_desire_glory', function() {
		getAttrs(['desire_glory'], function(values) {
			let current = +values.desire_glory || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_glory: next
			});
		});
	});

	on('clicked:cycle_desire_knowledge', function() {
		getAttrs(['desire_knowledge'], function(values) {
			let current = +values.desire_knowledge || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_knowledge: next
			});
		});
	});

	on('clicked:cycle_desire_thrills', function() {
		getAttrs(['desire_thrills'], function(values) {
			let current = +values.desire_thrills || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_thrills: next
			});
		});
	});

	on('clicked:cycle_desire_harmony', function() {
		getAttrs(['desire_harmony'], function(values) {
			let current = +values.desire_harmony || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_harmony: next
			});
		});
	});

	on('clicked:cycle_desire_love', function() {
		getAttrs(['desire_love'], function(values) {
			let current = +values.desire_love || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_love: next
			});
		});
	});

	on('clicked:cycle_desire_wealth', function() {
		getAttrs(['desire_wealth'], function(values) {
			let current = +values.desire_wealth || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_wealth: next
			});
		});
	});

	on('clicked:cycle_desire_honor', function() {
		getAttrs(['desire_honor'], function(values) {
			let current = +values.desire_honor || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_honor: next
			});
		});
	});

	on('clicked:cycle_desire_power', function() {
		getAttrs(['desire_power'], function(values) {
			let current = +values.desire_power || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_power: next
			});
		});
	});

	on('clicked:cycle_desire_wisdom', function() {
		getAttrs(['desire_wisdom'], function(values) {
			let current = +values.desire_wisdom || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_wisdom: next
			});
		});
	});

	on('clicked:cycle_desire_custom', function() {
		getAttrs(['desire_custom_state'], function(values) {
			let current = +values.desire_custom_state || 0;
			let next = (current + 1) % 3;
			setAttrs({
				desire_custom_state: next
			});
		});
	});
	
	on('clicked:rest', function() {
		setAttrs({
			brawn_marked: '0',
			agility_marked: '0',
			wits_marked: '0',
			presence_marked: '0',
			
			bloodied: '0',
			rattled: '0',
			
			thorns: 0,
			extra_dice: 0
		});
	});
		// Toggle between locked (auto-size) and unlocked (manual resize) modes
	on('clicked:toggle_core_talent_resize', function() {
		getAttrs(['core_talent_resize_unlocked'], function(values) {
			const isCurrentlyUnlocked = values.core_talent_resize_unlocked === 'true';
			const newState = isCurrentlyUnlocked ? 'false' : 'true';
			
			setAttrs({
				core_talent_resize_unlocked: newState
			});
			
			console.log('Resize mode toggled to:', newState === 'true' ? 'UNLOCKED (manual resize)' : 'LOCKED (auto-size)');
		});
	});

		// Toggle all talent slots resize from header button
on('clicked:toggle_acquired_talents_resize', function() {
    getAttrs(['acquired_talents_resize_unlocked'], function(values) {
        const isCurrentlyUnlocked = values.acquired_talents_resize_unlocked === 'true';
        const newState = isCurrentlyUnlocked ? 'false' : 'true';
        
        setAttrs({
            acquired_talents_resize_unlocked: newState
        });
        
        console.log('Acquired Talents resize mode toggled to:', newState === 'true' ? 'UNLOCKED' : 'LOCKED');
    });
});
// REPLACE both sheet:opened functions with this single one
on('sheet:opened', function() {
    setAttrs({
        core_talent_resize_unlocked: 'false',
        acquired_talents_resize_unlocked: 'false'  // ← CORRECT ATTRIBUTE NAME
    });
    console.log('Sheet opened - both talent sections set to LOCKED mode (auto-size)');
});
</script>
<rolltemplate class="sheet-rolltemplate-grimwild">
    <div class="sheet-container">
        <div class="sheet-container-header">
            {{charactername}} | {{rollname}} Roll
        </div>
        <div class="sheet-container-content">
            {{^poolroll}}
            <div class="sheet-dice-row-container">
                <div class="sheet-dice-header-left">{{poolname}}
                    <div class="sheet-top-dice-row-left">
                        {{#dice1}}<div class="sheet-dice sheet-dice{{dice1}}">{{dice1}}</div>{{/dice1}}
                        {{#dice2}}<div class="sheet-dice sheet-dice{{dice2}}">{{dice2}}</div>{{/dice2}}
                        {{#dice3}}<div class="sheet-dice sheet-dice{{dice3}}">{{dice3}}</div>{{/dice3}}
                        {{#dice4}}<div class="sheet-dice sheet-dice{{dice4}}">{{dice4}}</div>{{/dice4}}
                        {{#dice5}}<div class="sheet-dice sheet-dice{{dice5}}">{{dice5}}</div>{{/dice5}}
                        {{#dice6}}<div class="sheet-dice sheet-dice{{dice6}}">{{dice6}}</div>{{/dice6}}
                        {{#dice7}}<div class="sheet-dice sheet-dice{{dice7}}">{{dice7}}</div>{{/dice7}}
                        {{#dice8}}<div class="sheet-dice sheet-dice{{dice8}}">{{dice8}}</div>{{/dice8}}
                    </div>        
                </div>
                {{#spark}}     
                <div class="sheet-dice-header-right">Add Spark
                    <div class="sheet-top-dice-row-right">
                        {{#spark1}}<div class="sheet-dice sheet-dice{{spark1}}">{{spark1}}</div>{{/spark1}}
                        {{#spark2}}<div class="sheet-dice sheet-dice{{spark2}}">{{spark2}}</div>{{/spark2}}
                    </div>        
                </div>
                {{/spark}}
            </div>
            {{/poolroll}}
            
            {{#poolroll}}
            <div class="sheet-dice-row-container">
                <div class="sheet-dice-header-left">{{poolname}}
                    <div class="sheet-top-dice-row-left sheet-pool-dice">
                        {{#dice1}}<div class="sheet-dice sheet-dice{{dice1}}">{{dice1}}</div>{{/dice1}}
                        {{#dice2}}<div class="sheet-dice sheet-dice{{dice2}}">{{dice2}}</div>{{/dice2}}
                        {{#dice3}}<div class="sheet-dice sheet-dice{{dice3}}">{{dice3}}</div>{{/dice3}}
                        {{#dice4}}<div class="sheet-dice sheet-dice{{dice4}}">{{dice4}}</div>{{/dice4}}
                        {{#dice5}}<div class="sheet-dice sheet-dice{{dice5}}">{{dice5}}</div>{{/dice5}}
                        {{#dice6}}<div class="sheet-dice sheet-dice{{dice6}}">{{dice6}}</div>{{/dice6}}
                        {{#dice7}}<div class="sheet-dice sheet-dice{{dice7}}">{{dice7}}</div>{{/dice7}}
                        {{#dice8}}<div class="sheet-dice sheet-dice{{dice8}}">{{dice8}}</div>{{/dice8}}
                        {{#dice9}}<div class="sheet-dice sheet-dice{{dice9}}">{{dice9}}</div>{{/dice9}}
                        {{#dice10}}<div class="sheet-dice sheet-dice{{dice10}}">{{dice10}}</div>{{/dice10}}
                        {{#dice11}}<div class="sheet-dice sheet-dice{{dice11}}">{{dice11}}</div>{{/dice11}}
                        {{#dice12}}<div class="sheet-dice sheet-dice{{dice12}}">{{dice12}}</div>{{/dice12}}
                    </div>        
                </div>
            </div>
            {{/poolroll}}
            
            {{#thorns}}
            <div class="sheet-divider"></div>
            <div class="sheet-dice-row-container">
                <div class="sheet-dice-header-left">Difficulty
                    <div class="sheet-top-dice-row-left">
                        {{#thorn1}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{thorn1}}">{{thorn1}}</div></div>{{/thorn1}}
                        {{#thorn2}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{thorn2}}">{{thorn2}}</div></div>{{/thorn2}}
                        {{#thorn3}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{thorn3}}">{{thorn3}}</div></div>{{/thorn3}}
                        {{#thorn4}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{thorn4}}">{{thorn4}}</div></div>{{/thorn4}}
                    </div>        
                </div>
                {{#markharm}}     
                <div class="sheet-dice-header-right">Marks & Harm
                    <div class="sheet-top-dice-row-right">
                        {{#mark1}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{mark1}}">{{mark1}}</div></div>{{/mark1}}
                        {{#mark2}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{mark2}}">{{mark2}}</div></div>{{/mark2}}
                        {{#mark3}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{mark3}}">{{mark3}}</div></div>{{/mark3}}
                    </div>        
                </div>
                {{/markharm}}
            </div>
            {{/thorns}}
            
            {{#markharmonly}}
            <div class="sheet-divider"></div>
            <div class="sheet-dice-row-container">
                <div class="sheet-dice-header-left">Marks & Harm
                    <div class="sheet-top-dice-row-left {{poolclass}}">
                        {{#mark1}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{mark1}}">{{mark1}}</div></div>{{/mark1}}
                        {{#mark2}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{mark2}}">{{mark2}}</div></div>{{/mark2}}
                        {{#mark3}}<div class="sheet-dice-thorn"><div class="sheet-dice-thorn_text sheet-thorn{{mark3}}">{{mark3}}</div></div>{{/mark3}}
                    </div>        
                </div>
            </div>
            {{/markharmonly}}
            
            {{#result}}
            <div class="sheet-divider"></div>
            <div class="sheet-result-bold">{{resultname}}</div>
            <div class="sheet-result-text">{{resulttext}}</div>
            {{/result}}
            
            {{#status}}
            <div class="sheet-mark-text">{{status}}</div>
            {{/status}}
        </div>
    </div>
</rolltemplate>
</body>
</html>
